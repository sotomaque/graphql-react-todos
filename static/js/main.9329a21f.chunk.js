(this["webpackJsonpgraphql-checklist"]=this["webpackJsonpgraphql-checklist"]||[]).push([[0],{27:function(e,t,n){e.exports=n(38)},36:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),o=n(22),c=n.n(o),i=n(11),u=n.n(i),s=n(18),l=n(15),d=n(14),p=n(12),f=n(10);function m(){var e=Object(d.a)(["\n  query getTodos {\n      todos {\n          done\n          id\n          text\n      }\n  } \n"]);return m=function(){return e},e}function b(){var e=Object(d.a)(["\n  mutation DeleteTodo($id:uuid!) {\n    delete_todos(where: {id: {_eq: $id}}) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"]);return b=function(){return e},e}function h(){var e=Object(d.a)(["\n  mutation toggleTodo($id: uuid!, $done: Boolean!) {\n    update_todos(where: {id: {_eq: $id}}, _set: {done: $done}) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"]);return h=function(){return e},e}function v(){var e=Object(d.a)(["\n  mutation addTodo($text: String!) {\n    insert_todos(objects: {text: $text}) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"]);return v=function(){return e},e}var g=Object(f.b)(v()),x=Object(f.b)(h()),j=Object(f.b)(b()),w=Object(f.b)(m());var y=function(){var e=a.a.useState(""),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(p.b)(w),c=o.data,i=o.loading,d=o.error,f=Object(p.a)(x),m=Object(l.a)(f,1)[0],b=Object(p.a)(g,{onCompleted:function(){return r("")}}),h=Object(l.a)(b,1)[0],v=Object(p.a)(j),y=Object(l.a)(v,1)[0];function O(){return(O=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.done,e.next=3,m({variables:{id:n,done:!r}});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,h({variables:{text:n},refetchQueries:[{query:w}]});case 5:e.sent;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,!window.confirm("Do you want to delete this todo")){e.next=6;break}return e.next=5,y({variables:{id:n},update:function(e){var t=e.readQuery({query:w}).todos.filter((function(e){return e.id!==n}));e.writeQuery({query:w,data:{todos:t}})}});case 5:e.sent;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i?a.a.createElement("div",null,"loading todos..."):d?a.a.createElement("div",null,"error fetching todos"):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"vh-100 code flex flex-column items-center bg-purple white pa3 fl-1"},a.a.createElement("h1",{className:"f2-l"},"GraphQL Checklist",a.a.createElement("span",{role:"img","aria-label":"Checkmark"},"\u2705")),a.a.createElement("form",{onSubmit:function(e){return k.apply(this,arguments)},className:"mb3"},a.a.createElement("input",{className:"pa2 f4 b--dashed",type:"text",placeholder:"Add A Todo",onChange:function(e){return r(e.target.value)},value:n}),a.a.createElement("button",{className:"pa2 f4 bg-green",type:"submit"},"Create")),a.a.createElement("div",{className:"flex items-center justify-center flex-column",style:{overflow:"scroll",width:"80vw"}},c.todos.map((function(e){return a.a.createElement("p",{onDoubleClick:function(){return function(e){return O.apply(this,arguments)}(e)},key:e.id},a.a.createElement("span",{className:"pointer list pa1 f3 ".concat(e.done&&"strike")},e.text),a.a.createElement("button",{onClick:function(){return function(e){return E.apply(this,arguments)}(e)},className:"bg-transparent bn f4"},a.a.createElement("span",{className:"red"},"\xd7")))})))))},O=n(7),k=(n(36),new f.a({uri:"https://react-todos-graphql.herokuapp.com/v1/graphql"}));c.a.render(a.a.createElement(O.a,{client:k},a.a.createElement(y,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.9329a21f.chunk.js.map