(this["webpackJsonpgraphql-checklist"]=this["webpackJsonpgraphql-checklist"]||[]).push([[0],{40:function(e,t,n){e.exports=n(54)},54:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(11),c=n.n(o),i=n(16),s=n.n(i),u=n(25),l=n(21),d=n(20),p=n(17),m=n(15),f=n(33);function b(){var e=Object(d.a)(["\n  query getTodos {\n      todos {\n          done\n          id\n          text\n      }\n  } \n"]);return b=function(){return e},e}function h(){var e=Object(d.a)(["\n  mutation DeleteTodo($id:uuid!) {\n    delete_todos(where: {id: {_eq: $id}}) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"]);return h=function(){return e},e}function g(){var e=Object(d.a)(["\n  mutation toggleTodo($id: uuid!, $done: Boolean!) {\n    update_todos(where: {id: {_eq: $id}}, _set: {done: $done}) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"]);return g=function(){return e},e}function y(){var e=Object(d.a)(["\n  mutation addTodo($text: String!) {\n    insert_todos(objects: {text: $text}) {\n      returning {\n        done\n        id\n        text\n      }\n    }\n  }\n"]);return y=function(){return e},e}var v=Object(m.b)(y()),x=Object(m.b)(g()),k=Object(m.b)(h()),j=Object(m.b)(b());var O=function(){var e=a.a.useState(""),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(p.b)(j),c=o.data,i=o.loading,d=o.error,m=Object(p.a)(x),b=Object(l.a)(m,1)[0],h=Object(p.a)(v,{onCompleted:function(){return r("")}}),g=Object(l.a)(h,1)[0],y=Object(p.a)(k),O=Object(l.a)(y,1)[0];function w(){return(w=Object(u.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.done,e.next=3,b({variables:{id:n,done:!r}});case 3:a=e.sent,console.log("toggled todo",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(u.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,g({variables:{text:n},refetchQueries:[{query:j}]});case 5:r=e.sent,console.log("added todo",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,!window.confirm("Do you want to delete this todo")){e.next=7;break}return e.next=5,O({variables:{id:n},update:function(e){var t=e.readQuery({query:j}).todos.filter((function(e){return e.id!==n}));e.writeQuery({query:j,data:{todos:t}})}});case 5:r=e.sent,console.log("deleted todo",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i?a.a.createElement("div",null,"loading todos..."):d?a.a.createElement("div",null,"error fetching todos"):a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{steps:[{target:".my-first-step",content:"Welcome to GraphQL Checklist",placement:"center",disableBeacon:!0},{target:".my-second-step",content:"To add a new item to your todo list, simply type it in here, and either click on the create button or press enter"},{target:".my-third-step",content:"To mark an item as 'done' simply double click the item in the list"},{target:".my-fourth-step",content:"To erase an item from your list, click the red 'X'",isLastStep:!0}],continuous:!0,showProgress:!1}),a.a.createElement("div",{className:"vh-100 code flex flex-column items-center bg-purple white pa3 fl-1 my-first-step"},a.a.createElement("h1",{className:"f2-l"},"GraphQL Checklist",a.a.createElement("span",{role:"img","aria-label":"Checkmark"},"\u2705")),a.a.createElement("form",{onSubmit:function(e){return E.apply(this,arguments)},className:"mb3"},a.a.createElement("input",{className:"pa2 f4 b--dashed my-second-step",type:"text",placeholder:"Add A Todo",onChange:function(e){return r(e.target.value)},value:n}),a.a.createElement("button",{className:"pa2 f4 bg-green",type:"submit"},"Create")),a.a.createElement("div",{className:"flex items-center justify-center flex-column"},c.todos.map((function(e){return a.a.createElement("p",{onDoubleClick:function(){return function(e){return w.apply(this,arguments)}(e)},key:e.id},a.a.createElement("span",{className:"pointer list pa1 f3 ".concat(e.done&&"strike"," my-third-step")},e.text),a.a.createElement("button",{onClick:function(){return function(e){return q.apply(this,arguments)}(e)},className:"bg-transparent bn f4"},a.a.createElement("span",{className:"red my-fourth-step"},"\xd7")))})))))},w=n(9),E=new m.a({uri:"https://react-todos-graphql.herokuapp.com/v1/graphql"});c.a.render(a.a.createElement(w.a,{client:E},a.a.createElement(O,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.5357da40.chunk.js.map